<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ğŸ“Š AI å‘¨æŠ¥ç”Ÿæˆå™¨</title>
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    
    body {
      font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
      background: linear-gradient(135deg, #f5f7fa 0%, #e9ecf2 100%);
      min-height: 100vh;
      padding: 40px 20px;
    }
    
    .container {
      max-width: 900px;
      margin: 0 auto;
    }
    
    .header {
      text-align: center;
      margin-bottom: 40px;
    }
    
    .header h1 {
      font-size: 2.5rem;
      color: #1a2639;
      margin-bottom: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
    }
    
    .header p {
      color: #4a5568;
      font-size: 1.1rem;
    }
    
    .card {
      background: white;
      border-radius: 24px;
      padding: 30px;
      box-shadow: 0 20px 40px rgba(0,0,0,0.08);
      margin-bottom: 30px;
    }
    
    .examples-section {
      background: #f8fafc;
      border-radius: 16px;
      padding: 20px;
      margin-bottom: 25px;
      border: 1px solid #e2e8f0;
    }
    
    .examples-section h3 {
      color: #2d3748;
      margin-bottom: 15px;
      font-size: 1.1rem;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    
    .example-badge {
      background: #10a37f;
      color: white;
      padding: 4px 10px;
      border-radius: 20px;
      font-size: 0.8rem;
      font-weight: 500;
    }
    
    .example-box {
      background: white;
      border-radius: 12px;
      padding: 15px;
      margin-bottom: 15px;
      border: 1px solid #e2e8f0;
    }
    
    .example-box:last-child {
      margin-bottom: 0;
    }
    
    .example-raw {
      color: #4a5568;
      font-size: 0.95rem;
      padding: 10px;
      background: #f1f5f9;
      border-radius: 8px;
      margin: 10px 0;
      font-style: italic;
    }
    
    .example-output {
      background: #f0f9f4;
      border-radius: 8px;
      padding: 12px;
      font-size: 0.9rem;
      color: #2d3748;
      border-left: 4px solid #10a37f;
    }
    
    textarea {
      width: 100%;
      padding: 20px;
      border: 2px solid #e2e8f0;
      border-radius: 16px;
      font-size: 1rem;
      line-height: 1.6;
      resize: vertical;
      margin-bottom: 20px;
      transition: border 0.2s;
    }
    
    textarea:focus {
      outline: none;
      border-color: #10a37f;
    }
    
    .button-group {
      display: flex;
      gap: 15px;
      margin-bottom: 25px;
    }
    
    .btn-primary {
      background: #10a37f;
      color: white;
      border: none;
      padding: 14px 30px;
      border-radius: 40px;
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      flex: 2;
      transition: background 0.2s;
    }
    
    .btn-primary:hover:not(:disabled) {
      background: #0e8c6d;
    }
    
    .btn-secondary {
      background: white;
      color: #4a5568;
      border: 2px solid #e2e8f0;
      padding: 14px 30px;
      border-radius: 40px;
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      flex: 1;
      transition: all 0.2s;
    }
    
    .btn-secondary:hover {
      background: #f8fafc;
      border-color: #cbd5e0;
    }
    
    button:disabled {
      opacity: 0.6;
      cursor: not-allowed;
    }
    
    .loading {
      text-align: center;
      padding: 30px;
      display: none;
    }
    
    .spinner {
      display: inline-block;
      width: 40px;
      height: 40px;
      border: 3px solid #e2e8f0;
      border-top-color: #10a37f;
      border-radius: 50%;
      animation: spin 1s linear infinite;
      margin-bottom: 15px;
    }
    
    @keyframes spin {
      to { transform: rotate(360deg); }
    }
    
    .result-card {
      background: white;
      border-radius: 24px;
      padding: 30px;
      box-shadow: 0 20px 40px rgba(0,0,0,0.08);
      display: none;
    }
    
    .result-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
    }
    
    .result-header h2 {
      color: #1a2639;
    }
    
    .copy-btn {
      background: none;
      border: 1px solid #e2e8f0;
      padding: 8px 16px;
      border-radius: 30px;
      cursor: pointer;
      color: #4a5568;
      transition: all 0.2s;
    }
    
    .copy-btn:hover {
      background: #f8fafc;
      border-color: #10a37f;
      color: #10a37f;
    }
    
    .report-content {
      background: #f8fafc;
      padding: 25px;
      border-radius: 16px;
      white-space: pre-wrap;
      font-family: 'SF Mono', 'Fira Code', monospace;
      font-size: 0.95rem;
      line-height: 1.6;
      color: #2d3748;
      border: 1px solid #e2e8f0;
    }
    
    .error {
      background: #fff5f5;
      color: #c53030;
      padding: 15px;
      border-radius: 12px;
      margin: 20px 0;
      border-left: 4px solid #fc8181;
      display: none;
    }
    
    .tips {
      background: #ebf8ff;
      border-left: 4px solid #4299e1;
      padding: 15px;
      border-radius: 12px;
      margin-top: 20px;
      color: #2c5282;
    }
    
    .tips ul {
      margin-top: 8px;
      margin-left: 20px;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>
        <span>ğŸ“Š</span>
        AI å‘¨æŠ¥ç”Ÿæˆå™¨
      </h1>
      <p>è¾“å…¥ä½ çš„å·¥ä½œè®°å½•ï¼ŒAI å¸®ä½ æ•´ç†æˆä¸“ä¸šå‘¨æŠ¥</p>
    </div>
    
    <div class="card">
      <div class="examples-section">
        <h3>
          <span>ğŸ“š</span>
          å­¦ä¹ ç¤ºä¾‹ï¼ˆFew-Shot Learningï¼‰
          <span class="example-badge">AI å°±æ˜¯è¿™æ ·å­¦ä¼šçš„</span>
        </h3>
        
        <div class="example-box">
          <div style="font-weight: 600; color: #10a37f; margin-bottom: 8px;">ğŸ“ ç¤ºä¾‹ 1ï¼šåŸå§‹è®°å½•</div>
          <div class="example-raw">å‘¨ä¸€ï¼šå‚åŠ äº§å“éœ€æ±‚è¯„å®¡ä¼šï¼Œè®¨è®ºæ–°åŠŸèƒ½ä¼˜å…ˆçº§<br>å‘¨äºŒï¼šä¿®å¤ç”¨æˆ·åé¦ˆçš„ç™»å½•bugï¼ŒèŠ±äº†åŠå¤©æ—¶é—´<br>å‘¨ä¸‰ï¼šå¼€å‘æ”¯ä»˜é¡µé¢ï¼Œå®Œæˆäº†å‰ç«¯å¸ƒå±€</div>
          <div style="font-weight: 600; color: #10a37f; margin: 10px 0 8px;">âœ¨ AI ç”Ÿæˆçš„å‘¨æŠ¥</div>
          <div class="example-output">
            # æœ¬å‘¨å·¥ä½œå‘¨æŠ¥<br><br>## ğŸ“‹ æœ¬å‘¨å®Œæˆ<br>1. éœ€æ±‚è¯„å®¡ï¼šå‚åŠ äº§å“éœ€æ±‚è¯„å®¡ä¼šï¼Œæ˜ç¡®æ–°åŠŸèƒ½å¼€å‘ä¼˜å…ˆçº§<br>2. Bugä¿®å¤ï¼šä¿®å¤ç”¨æˆ·ç™»å½•å¼‚å¸¸é—®é¢˜<br>3. æ”¯ä»˜åŠŸèƒ½å¼€å‘ï¼šå®Œæˆæ”¯ä»˜é¡µé¢å‰ç«¯å¸ƒå±€<br><br>## âš ï¸ å­˜åœ¨é—®é¢˜<br>- ç™»å½•bugæš´éœ²äº†ç°æœ‰sessionç®¡ç†æœºåˆ¶ä¸å¥å£®<br><br>## ğŸ“… ä¸‹å‘¨è®¡åˆ’<br>1. ç»§ç»­æ”¯ä»˜åŠŸèƒ½å¼€å‘<br>2. ä¼˜åŒ–sessionç®¡ç†æœºåˆ¶
          </div>
        </div>
        
        <div class="example-box">
          <div style="font-weight: 600; color: #10a37f; margin-bottom: 8px;">ğŸ“ ç¤ºä¾‹ 2ï¼šåŸå§‹è®°å½•</div>
          <div class="example-raw">å‘¨äºŒä¸Šåˆä¿®å¤äº†æ•°æ®åº“è¿æ¥æ± çš„bugï¼Œä¸‹åˆå†™äº†æ¥å£æ–‡æ¡£ã€‚å‘¨ä¸‰å’Œæµ‹è¯•åŒå­¦è¿‡äº†ä¸€éæµ‹è¯•ç”¨ä¾‹ï¼Œå‘ç°å‡ ä¸ªè¾¹ç•Œé—®é¢˜ã€‚å‘¨å››æ”¹bugï¼Œå‘¨äº”ä¸Šçº¿ã€‚</div>
          <div style="font-weight: 600; color: #10a37f; margin: 10px 0 8px;">âœ¨ AI ç”Ÿæˆçš„å‘¨æŠ¥</div>
          <div class="example-output">
            # æœ¬å‘¨å·¥ä½œå‘¨æŠ¥<br><br>## ğŸ“‹ æœ¬å‘¨å®Œæˆ<br>1. æ•°æ®åº“ä¼˜åŒ–ï¼šä¿®å¤è¿æ¥æ± é…ç½®é—®é¢˜<br>2. æ–‡æ¡£å»ºè®¾ï¼šå®Œæˆæ ¸å¿ƒæ¥å£çš„æŠ€æœ¯æ–‡æ¡£<br>3. è´¨é‡ä¿éšœï¼šä¸æµ‹è¯•å›¢é˜Ÿè¯„å®¡æµ‹è¯•ç”¨ä¾‹ï¼Œå‘ç°å¹¶ä¿®å¤5ä¸ªè¾¹ç•Œé—®é¢˜<br>4. ç‰ˆæœ¬å‘å¸ƒï¼šå‘¨äº”é¡ºåˆ©ä¸Šçº¿<br><br>## âš ï¸ å­˜åœ¨é—®é¢˜<br>- ä¸Šçº¿å‰å‘ç°ç¯å¢ƒé…ç½®å·®å¼‚ï¼Œéœ€è¦è§„èŒƒåŒ–éƒ¨ç½²æµç¨‹<br><br>## ğŸ“… ä¸‹å‘¨è®¡åˆ’<br>1. ç›‘æ§ä¸Šçº¿åç³»ç»Ÿè¿è¡ŒçŠ¶æ€<br>2. å¼€å§‹ä¸‹ä¸€ç‰ˆæœ¬çš„éœ€æ±‚é¢„ç ”
          </div>
        </div>
      </div>
      
      <label for="notes" style="font-weight: 600; color: #2d3748; margin-bottom: 8px; display: block;">
        ğŸ“ ç²˜è´´ä½ çš„å·¥ä½œè®°å½•
      </label>
      <textarea 
        id="notes" 
        rows="8" 
        placeholder="ä¾‹å¦‚ï¼š&#10;å‘¨ä¸€ï¼šå‚åŠ äº†äº§å“è¯„å®¡ä¼šï¼Œè®¨è®ºäº†æ–°åŠŸèƒ½çš„ä¼˜å…ˆçº§&#10;å‘¨äºŒï¼šä¿®å¤äº†ç”¨æˆ·åé¦ˆçš„ç™»å½•bug&#10;å‘¨ä¸‰ï¼šå¼€å‘æ”¯ä»˜é¡µé¢ï¼Œå®Œæˆäº†å‰ç«¯å¸ƒå±€&#10;å‘¨å››ï¼šå’Œè®¾è®¡å¸ˆæ²Ÿé€šUIè°ƒæ•´æ–¹æ¡ˆ&#10;å‘¨äº”ï¼šå†™å‘¨æŠ¥ï¼Œå‚åŠ å›¢é˜Ÿå‘¨ä¼š"
      >å‘¨ä¸€ï¼šå‚åŠ äº†äº§å“éœ€æ±‚è¯„å®¡ä¼šï¼Œè®¨è®ºäº†æ–°åŠŸèƒ½ä¼˜å…ˆçº§
å‘¨äºŒï¼šä¿®å¤äº†ç”¨æˆ·åé¦ˆçš„ç™»å½•bug
å‘¨ä¸‰ï¼šå¼€å‘æ”¯ä»˜é¡µé¢ï¼Œå®Œæˆäº†å‰ç«¯å¸ƒå±€
å‘¨å››ï¼šå’Œè®¾è®¡å¸ˆæ²Ÿé€šUIè°ƒæ•´æ–¹æ¡ˆ
å‘¨äº”ï¼šå†™å‘¨æŠ¥ï¼Œå‚åŠ å›¢é˜Ÿå‘¨ä¼š</textarea>
      
      <div class="button-group">
        <button class="btn-primary" id="generateBtn">âœ¨ ç”Ÿæˆå‘¨æŠ¥</button>
        <button class="btn-secondary" id="clearBtn">æ¸…ç©º</button>
      </div>
      
      <div class="tips">
        <strong>ğŸ’¡ å°è´´å£«ï¼š</strong> è®°å½•è¶Šè¯¦ç»†ï¼Œå‘¨æŠ¥è¶Šç²¾å‡†ã€‚å»ºè®®åŒ…å«ï¼š
        <ul>
          <li>å…·ä½“çš„å·¥ä½œå†…å®¹ï¼ˆåšäº†ä»€ä¹ˆï¼‰</li>
          <li>é‡åˆ°çš„é—®é¢˜ï¼ˆä»€ä¹ˆbug/éš¾ç‚¹ï¼‰</li>
          <li>èŠ±è´¹çš„æ—¶é—´ï¼ˆåŠå¤©/å…¨å¤©ï¼‰</li>
          <li>åä½œå¯¹è±¡ï¼ˆå’Œè°æ²Ÿé€šï¼‰</li>
        </ul>
      </div>
    </div>
    
    <div class="loading" id="loading">
      <div class="spinner"></div>
      <div style="color: #718096;">AI æ­£åœ¨æ€è€ƒå¦‚ä½•æ•´ç†ä½ çš„å‘¨æŠ¥...</div>
    </div>
    
    <div class="error" id="error"></div>
    
    <div class="result-card" id="resultCard">
      <div class="result-header">
        <h2>ğŸ“‹ ç”Ÿæˆçš„å‘¨æŠ¥</h2>
        <button class="copy-btn" id="copyBtn">ğŸ“‹ å¤åˆ¶</button>
      </div>
      <div class="report-content" id="report"></div>
    </div>
  </div>

  <script>
    const notesInput = document.getElementById('notes');
    const generateBtn = document.getElementById('generateBtn');
    const clearBtn = document.getElementById('clearBtn');
    const loading = document.getElementById('loading');
    const errorDiv = document.getElementById('error');
    const resultCard = document.getElementById('resultCard');
    const reportDiv = document.getElementById('report');
    const copyBtn = document.getElementById('copyBtn');

    // æ¸…ç©ºæŒ‰é’®
    clearBtn.addEventListener('click', () => {
      notesInput.value = '';
      notesInput.focus();
      resultCard.style.display = 'none';
      errorDiv.style.display = 'none';
    });

    // ç”ŸæˆæŒ‰é’®
    generateBtn.addEventListener('click', async () => {
      const notes = notesInput.value.trim();
      if (!notes) {
        errorDiv.textContent = 'è¯·è¾“å…¥å·¥ä½œè®°å½•';
        errorDiv.style.display = 'block';
        return;
      }

      // æ˜¾ç¤ºåŠ è½½
      generateBtn.disabled = true;
      loading.style.display = 'block';
      errorDiv.style.display = 'none';
      resultCard.style.display = 'none';

      try {
        const response = await fetch('http://localhost:3002/api/generate-report', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ notes })
        });

        const data = await response.json();
        
        if (response.ok) {
          reportDiv.textContent = data.report;
          resultCard.style.display = 'block';
        } else {
          errorDiv.textContent = data.error || 'ç”Ÿæˆå¤±è´¥';
          errorDiv.style.display = 'block';
        }
      } catch (err) {
        errorDiv.textContent = 'ç½‘ç»œé”™è¯¯ï¼Œè¯·æ£€æŸ¥æœåŠ¡å™¨æ˜¯å¦è¿è¡Œ (http://localhost:3002)';
        errorDiv.style.display = 'block';
      } finally {
        generateBtn.disabled = false;
        loading.style.display = 'none';
      }
    });

    // å¤åˆ¶åŠŸèƒ½
    copyBtn.addEventListener('click', () => {
      navigator.clipboard.writeText(reportDiv.textContent).then(() => {
        const originalText = copyBtn.textContent;
        copyBtn.textContent = 'âœ… å·²å¤åˆ¶';
        setTimeout(() => {
          copyBtn.textContent = originalText;
        }, 2000);
      });
    });

    // å›è½¦å¿«æ·é”®
    notesInput.addEventListener('keydown', (e) => {
      if (e.key === 'Enter' && e.ctrlKey) {
        generateBtn.click();
      }
    });
  </script>
</body>
</html>